# docker compose build hbase-base
# docker compose up
# docker compose exec hbase-dev bash
# or
# docker exec -it hbase bash
version: "3.9"
services:

  hbase-base:
    image: hibuz/hbase-base:${HADOOP_VERSION}
    build:
      context: ../
      args:
        HADOOP_VERSION: ${HADOOP_VERSION}
    entrypoint: bash

  hbase-dev:
    container_name: hbase
    image: hibuz/hbase-dev
    build:
      args:
        HADOOP_VERSION: ${HADOOP_VERSION}
        HBASE_VERSION: ${HBASE_VERSION}
    ports:
      - 9870:9870
      - 8088:8088
      - 9002:10002
      - 16010:16010
      - 16030:60030
    volumes:
      - hbase-vol:/tmp
      #- ../../../hbase-example:/home/${DEFAULT_USER:-hadoop}/hbase-example:rw
    depends_on:
      - hbase-base

volumes:
  hbase-vol: {}
